/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package View;

import Exceptions.ModelException;
import ModelBeans.BeansCadCliente;
import ModelBeans.BeansFilme;
import ModelConection.ConexaoBD;
import ModelDao.DaoFilme;
import java.sql.SQLException;
import java.util.ArrayList;
import javax.swing.JOptionPane;
import javax.swing.ListSelectionModel;
import java.sql.Date;

/**
 *
 * @author peterson
 */
public class TelaCadFilme extends javax.swing.JFrame {

    ModelDao.DaoFilme filme = new DaoFilme();
    BeansFilme mod = new BeansFilme();
    DaoFilme dao = new DaoFilme();
    ConexaoBD conexao = new ConexaoBD();
    
    public static final int SALVAR = 0;
    public static final int EDITAR = 1;
    int flag = SALVAR;
            
            
    public TelaCadFilme() {
        initComponents();
        preencherTabela("select * from filme");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanelFundo = new javax.swing.JPanel();
        jTextFieldTituloFilme = new javax.swing.JTextField();
        jTextFieldTituloOriginalFilme = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTextPaneSinopseFilme = new javax.swing.JTextPane();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTextPaneElencoFilme = new javax.swing.JTextPane();
        jTextFieldDuracaoFilme = new javax.swing.JTextField();
        JcomboboxClassificacaoEtaria = new javax.swing.JComboBox<>();
        jComboBoxCategoria = new javax.swing.JComboBox<>();
        jButtonVoltar = new javax.swing.JButton();
        jButtonSalvarFilme = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jTextFieldValorLocacaoFilme = new javax.swing.JTextField();
        jButtonEditaFilme = new javax.swing.JButton();
        jButtonExcluirFilme = new javax.swing.JButton();
        jButtonNovoFilme = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        jTableFilmes = new javax.swing.JTable();
        jTextFieldPesquisaFilme = new javax.swing.JTextField();
        jButtonPesquisarFilme = new javax.swing.JButton();
        jLabel6 = new javax.swing.JLabel();
        jTextFieldEstoque = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        jTextFieldIDFilme = new javax.swing.JTextField();
        jDateChooserlancamento = new com.toedter.calendar.JDateChooser();
        jLabelPlanoFundo = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);

        jPanelFundo.setLayout(null);

        jTextFieldTituloFilme.setEnabled(false);
        jTextFieldTituloFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldTituloFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jTextFieldTituloFilme);
        jTextFieldTituloFilme.setBounds(190, 80, 340, 27);

        jTextFieldTituloOriginalFilme.setEnabled(false);
        jPanelFundo.add(jTextFieldTituloOriginalFilme);
        jTextFieldTituloOriginalFilme.setBounds(190, 120, 340, 27);

        jLabel5.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(255, 128, 0));
        jLabel5.setText("Título Original");
        jPanelFundo.add(jLabel5);
        jLabel5.setBounds(30, 120, 110, 30);

        jLabel2.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 128, 0));
        jLabel2.setText("Título");
        jPanelFundo.add(jLabel2);
        jLabel2.setBounds(30, 80, 50, 30);

        jLabel4.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(255, 128, 0));
        jLabel4.setText("Categoria");
        jPanelFundo.add(jLabel4);
        jLabel4.setBounds(30, 160, 70, 30);

        jLabel7.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(255, 128, 0));
        jLabel7.setText("Classificação Etária");
        jPanelFundo.add(jLabel7);
        jLabel7.setBounds(30, 200, 190, 30);

        jLabel9.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(255, 128, 0));
        jLabel9.setText("Duração");
        jPanelFundo.add(jLabel9);
        jLabel9.setBounds(570, 38, 60, 30);

        jLabel10.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(255, 128, 0));
        jLabel10.setText("Data Lançamento");
        jPanelFundo.add(jLabel10);
        jLabel10.setBounds(570, 70, 140, 50);

        jLabel3.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 128, 0));
        jLabel3.setText("Elenco");
        jPanelFundo.add(jLabel3);
        jLabel3.setBounds(30, 230, 70, 40);

        jLabel8.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(255, 128, 0));
        jLabel8.setText("Sinopse");
        jPanelFundo.add(jLabel8);
        jLabel8.setBounds(570, 200, 70, 18);

        jTextPaneSinopseFilme.setEnabled(false);
        jScrollPane1.setViewportView(jTextPaneSinopseFilme);

        jPanelFundo.add(jScrollPane1);
        jScrollPane1.setBounds(640, 200, 340, 110);

        jTextPaneElencoFilme.setEnabled(false);
        jScrollPane2.setViewportView(jTextPaneElencoFilme);

        jPanelFundo.add(jScrollPane2);
        jScrollPane2.setBounds(190, 240, 340, 100);

        jTextFieldDuracaoFilme.setEnabled(false);
        jTextFieldDuracaoFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldDuracaoFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jTextFieldDuracaoFilme);
        jTextFieldDuracaoFilme.setBounds(720, 40, 260, 27);

        JcomboboxClassificacaoEtaria.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Livre", "10 Anos", "14 Anos", "16 Anos", "18 Anos", " " }));
        JcomboboxClassificacaoEtaria.setEnabled(false);
        JcomboboxClassificacaoEtaria.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JcomboboxClassificacaoEtariaActionPerformed(evt);
            }
        });
        jPanelFundo.add(JcomboboxClassificacaoEtaria);
        JcomboboxClassificacaoEtaria.setBounds(190, 200, 200, 27);

        jComboBoxCategoria.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { " Abraham Lincoln", " Acidentes", " Administração", " Adoções", " Adolescentes", " Adolf Hitler", " Aeronáutica", " Agentes Secretos", " AIDS", " Albert Einstein", " Alcoólatras", " Alienígenas / Extraterrestre", " Alpinismo", " Amazônia", " Amigos", " Amizades", " Amor", " Andróide", " Animais", " Aniversários", " Anjos", " Ano Novo", " Anões", " Anti-heróis", " Apocalipse", " Aquecimento Global", " Armas", " Arqueologia", " Artes Marciais", " Artistas", " Assaltos", " Assassinos", " Assassinos em Série", " Astronautas", " Atentados Terroristas", " Atletas", " Autismo", " Aviões", " Ayrton Senna", " Baleias", " Ballet", " Bandas", " Barcos", " Baseados em Fatos Reais", " Baseados em Livros", " Baseados em Peças de Teatro", " Baseados em Quadrinhos", " Baseball", " Basquete", " Batman", " Bebedeira", " Bicicletas", " Bíblicos", " Bolsa de Valores", " Bombeiros", " Bope", " Boxe", " Brigas", " Brinquedos", " Bruxas", " Bullying", " Cachorros", " Caça", " Cangaceiro", " Capitalismo", " Carnaval", " Carros", " Cartas", " Casamentos", " Cassinos", " Catolicismo", " Cavaleiros", " Cavernas", " Câncer", " Cegos", " Centauros", " Chefes", " Chico Xavier", " Chineses", " CIA", " Ciborgue", " Cientistas", " Cigarros", " Cinema", " Cinema Marginal", " Cinema Novo", " Circos", " Cirurgia", " Ciúmes", " Cobiça", " Cobras", " Colegiais", " Comidas", " Comunismo", " Conspiração", " Copa do Mundo de Futebol", " Corridas", " Corrupção", " Corvos", " Cotidiano", " Cowboy", " Crianças", " Crimes", " Dança", " DC Comics", " Deficiências", " Depressão", " Desaparecidos", " Desastres Naturais", " Desejos", " Desemprego", " Desigualdade", " Destino", " Destruição", " Detetives", " Deus", " Diamantes", " Dinheiro", " Dinossauros", " Direito", " Disney", " Ditadura Militar", " Divórcios", " Doenças", " Dores", " Dragões", " Drácula", " Drogas", " Dupla Personalidade", " Ecologia", " Economia", " Educação", " Elfos", " Empreendedorismo", " Empresas", " Empresários", " Energia Nuclear", " Epidemias", " Escravidão", " Escritores", " Espaço", " Esperança", " Espiões", " Espiritismo", " Espiritualismo", " Espíritos", " Esportes", " Esquizofrenia", " Estudantes", " Evangélicos", " Exército", " Exorcismo", " Exploração Infantil", " Épicos", " Facebook", " Faculdades", " Fadas", " Falso Documentário", " Família", " Famosos", " Fantasmas e Assombrações", " Favelas", " Fazendas", " FBI", " Festas", " Férias", " Filhos", " Filosofia", " Fim do Mundo", " Finanças", " Florestas", " Fofoca", " Folclore", " Formigas", " Fotógrafos", " Frankenstein", " Freud", " Fugas", " Funk", " Furacões", " Futebol", " Futebol Americano", " Futurísticos", " Galáxia", " Ganância", " Gastronomia", " Gatos", " Gays", " Gângsters", " Geeks", " Gigantes", " Golf", " Golfinhos", " Golpistas", " Google", " Governo", " Gravidez", " Gravidez na Adolescência", " Guerra Civil", " Guerra do Golfo", " Guerra do Paraguai", " Guerra do Vietnã", " Guerra Fria", " Guerras", " Guerreiros", " Hackers", " Halloween", " Heranças", " Heroínas", " Histerias", " História", " Hockey", " Hollywood", " Holocausto", " Homem-Aranha", " Homossexualidade", " Humor Negro", " Idade da Pedra", " Idade Média", " Idosos", " Igrejas", " Ilhas", " Illuminati", " Imigração", " Imperadores", " Indígenas", " Infidelidade", " Informática", " Inquisição", " Insetos", " Inteligência", " Internet", " Investigação", " Iraque", " Irmãos", " Índio", " James Bond - Agente 007", " Japoneses", " Jazz", " Jesus", " Jogos", " Jogos / Games / Videogames", " Jornalismo", " Judeus", " Karatê", " Kung Fu", " Kurt Cobain", " Ladrões", " Las Vegas", " Lealdade", " Liberdade", " Lição de Vida", " Liderança", " Literatura", " Lobisomem", " Loucura", " Lutas", " Macacos", " Maconha", " Maçonaria", " Magias", " Magos", " Maldições", " Manias", " Manifestações", " Mar", " Marte", " Marvel", " Masoquismo", " Matemática", " Máfia", " Mágicos", " Mães", " Medicina", " Medievais", " Meio Ambiente", " Mentiras", " Mercenários", " Milagres", " Milionários", " Militares", " Miséria", " Mitologia Egípcia", " Mitologia Grega", " Mitologia Nórdica", " Mitologia Romana", " Mitológicos", " Mídia", " MMA", " Moda", " Modelos", " Monstros", " Montanhas", " Morcegos", " Mortes", " Mortos", " Mortos-Vivos", " Motivacionais", " Motocicletas", " Motos", " Muçulmanos", " Mudos", " Mulheres", " Mutantes", " Múmias", " Música", " Nacionais", " Namoro", " Napoleão", " NASA", " Natação", " Natal", " Natureza", " Nazismo", " Nelson Mandela", " Nerds", " Neve", " Ninjas", " Noir", " Noivas", " Obsessões", " Oceanos", " Ogros", " Olimpíadas", " Osama Bin Laden", " Óvnis", " Padre", " Pais", " Palhaços", " Papai Noel", " Paranormais", " Paris", " Paródias", " Pastor", " Patins", " Páscoa", " Pássaros", " Perdidos", " Perseguição", " Pescadores", " Petróleo", " Piratas", " Pistoleiros", " Planos", " Pobreza", " Poesia", " Poker", " Policiais", " Políticos", " Porcos", " Praias", " Preconceitos", " Presidente Lula", " Presidentes", " Preto e Branco", " Pré-História", " Primeira Guerra Mundial", " Princesas", " Prisioneiros", " Prisões", " Príncipes", " Procuras", " Professores", " Propostas", " Psicologia", " Psicopatas", " Publicidade e Propaganda", " Purgatório", " Química", " Racismo", " Rainhas", " Realidade Virtual", " Redes Sociais", " Refilmagem", " Reis", " Relacionamentos", " Religiosos", " Relíquias", " Resgate", " Ressurreição", " Revolução Francesa", " Revoluções", " Rio de Janeiro", " Riquezas", " Rivais", " Robôs", " Rock and Roll", " Roma", " Roubo a Banco", " Roubos", " Rugby", " Saddam Hussein", " Samba", " Samurai", " Sátiras", " Sedução", " Segunda Guerra Mundial", " Separação", " Sequestros", " Sereias", " Serial Killers", " Shows", " Síndrome de Down", " Skate", " Sobrenaturais", " Sobrevivência", " Socialismo", " Sociedades Secretas", " Sociologia", " Sogras", " Solidão", " Sonhos", " Suicídios", " Super-Heróis", " Superação", " Superman", " Superpoderes", " Surdos", " Surf", " Tango", " Teatros", " Tecnologia", " Terremotos", " Terrorismo", " Tesouros", " Torcidas Organizadas", " Tortura", " Touradas", " Toureiros", " Trabalho", " Traição", " Transplantes", " Trapaceiros", " Tráfico de Drogas", " Trânsito", " Triângulos Amorosos", " Trolls", " Tsunamis", " Tubarões", " Turistas", " UFC", " Umbanda", " Universidade", " Universos Parelelos", " Urbanização", " Vampiros", " Vaticano", " Velhice", " Vendas", " Verão", " Verdade", " Vermes", " Viagem no Tempo", " Viagens", " Vida após a Morte", " Vida Marinha", " Vietnã", " Vigaristas", " Vingança", " Violência", " Violência Doméstica", " Vírus", " Vulcões", " Wall Street", " Wicca", " Woodstock", " X-Men", " Xadrez", " Yakuza", " Yoga", " Zeus", " Zumbis" }));
        jComboBoxCategoria.setEnabled(false);
        jPanelFundo.add(jComboBoxCategoria);
        jComboBoxCategoria.setBounds(190, 160, 200, 27);

        jButtonVoltar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/voltar.png"))); // NOI18N
        jButtonVoltar.setText("Voltar");
        jButtonVoltar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonVoltarActionPerformed(evt);
            }
        });
        jPanelFundo.add(jButtonVoltar);
        jButtonVoltar.setBounds(20, 590, 180, 50);

        jButtonSalvarFilme.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/salvar.png"))); // NOI18N
        jButtonSalvarFilme.setText(" Salvar");
        jButtonSalvarFilme.setEnabled(false);
        jButtonSalvarFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSalvarFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jButtonSalvarFilme);
        jButtonSalvarFilme.setBounds(660, 320, 300, 50);

        jLabel1.setFont(new java.awt.Font("Ubuntu", 1, 18)); // NOI18N
        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/filme 20.png"))); // NOI18N
        jLabel1.setText("Cadastro de Filme");
        jPanelFundo.add(jLabel1);
        jLabel1.setBounds(10, 0, 260, 30);

        jLabel11.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel11.setForeground(new java.awt.Color(255, 128, 0));
        jLabel11.setText("Valor Locação");
        jPanelFundo.add(jLabel11);
        jLabel11.setBounds(570, 120, 100, 30);

        jTextFieldValorLocacaoFilme.setEnabled(false);
        jTextFieldValorLocacaoFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldValorLocacaoFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jTextFieldValorLocacaoFilme);
        jTextFieldValorLocacaoFilme.setBounds(720, 120, 260, 27);

        jButtonEditaFilme.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/configurações.png"))); // NOI18N
        jButtonEditaFilme.setText("Editar Filme");
        jButtonEditaFilme.setEnabled(false);
        jButtonEditaFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEditaFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jButtonEditaFilme);
        jButtonEditaFilme.setBounds(20, 470, 180, 50);

        jButtonExcluirFilme.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/lixeira.png"))); // NOI18N
        jButtonExcluirFilme.setText("Excluir Filme");
        jButtonExcluirFilme.setEnabled(false);
        jButtonExcluirFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonExcluirFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jButtonExcluirFilme);
        jButtonExcluirFilme.setBounds(20, 530, 180, 50);

        jButtonNovoFilme.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/adicionar filme 40.png"))); // NOI18N
        jButtonNovoFilme.setText("Novo Filme");
        jButtonNovoFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonNovoFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jButtonNovoFilme);
        jButtonNovoFilme.setBounds(20, 410, 180, 50);

        jTableFilmes.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTableFilmes.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTableFilmesMouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(jTableFilmes);

        jPanelFundo.add(jScrollPane3);
        jScrollPane3.setBounds(250, 410, 740, 230);

        jTextFieldPesquisaFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldPesquisaFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jTextFieldPesquisaFilme);
        jTextFieldPesquisaFilme.setBounds(250, 370, 250, 30);

        jButtonPesquisarFilme.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/buscar20.png"))); // NOI18N
        jButtonPesquisarFilme.setText(" Pesquisar");
        jButtonPesquisarFilme.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonPesquisarFilmeActionPerformed(evt);
            }
        });
        jPanelFundo.add(jButtonPesquisarFilme);
        jButtonPesquisarFilme.setBounds(510, 370, 130, 32);

        jLabel6.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(255, 128, 0));
        jLabel6.setText("Unidades");
        jPanelFundo.add(jLabel6);
        jLabel6.setBounds(570, 170, 70, 17);

        jTextFieldEstoque.setEnabled(false);
        jPanelFundo.add(jTextFieldEstoque);
        jTextFieldEstoque.setBounds(720, 160, 260, 27);

        jLabel12.setFont(new java.awt.Font("Ubuntu", 1, 15)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(255, 128, 0));
        jLabel12.setText("ID");
        jPanelFundo.add(jLabel12);
        jLabel12.setBounds(30, 50, 15, 18);

        jTextFieldIDFilme.setEnabled(false);
        jPanelFundo.add(jTextFieldIDFilme);
        jTextFieldIDFilme.setBounds(190, 40, 50, 27);

        jDateChooserlancamento.setEnabled(false);
        jPanelFundo.add(jDateChooserlancamento);
        jDateChooserlancamento.setBounds(720, 80, 260, 27);

        jLabelPlanoFundo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/fundo 2.jpg"))); // NOI18N
        jPanelFundo.add(jLabelPlanoFundo);
        jLabelPlanoFundo.setBounds(-5, 34, 1020, 640);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelFundo, javax.swing.GroupLayout.DEFAULT_SIZE, 1013, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelFundo, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 674, Short.MAX_VALUE)
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void jTextFieldTituloFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldTituloFilmeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldTituloFilmeActionPerformed

    private void jTextFieldDuracaoFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldDuracaoFilmeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldDuracaoFilmeActionPerformed

    private void JcomboboxClassificacaoEtariaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JcomboboxClassificacaoEtariaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_JcomboboxClassificacaoEtariaActionPerformed

    private void jButtonVoltarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonVoltarActionPerformed
        // TODO add your handling code here:
        TelaPrincipal telaAnterior = new TelaPrincipal();
        telaAnterior.setVisible(true);
        dispose();
    }//GEN-LAST:event_jButtonVoltarActionPerformed

    private void jButtonSalvarFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSalvarFilmeActionPerformed

        BeansFilme filmeAtual = new BeansFilme();
        
        try{
            filmeAtual.setNome(jTextFieldTituloFilme.getText());
            filmeAtual.setNome_original(jTextFieldTituloOriginalFilme.getText());
            filmeAtual.setDuracao(jTextFieldDuracaoFilme.getText());
            filmeAtual.setCategoria(jComboBoxCategoria.getSelectedItem().toString());
            filmeAtual.setClassificacao_etaria(JcomboboxClassificacaoEtaria.getSelectedItem().toString());
            filmeAtual.setElenco(jTextPaneElencoFilme.getText());
            filmeAtual.setSinopse(jTextPaneSinopseFilme.getText());
            java.sql.Date dateSQL = new java.sql.Date( jDateChooserlancamento.getDate().getTime() );
            filmeAtual.setLancamento(dateSQL);
            filmeAtual.setEstoque(Integer.parseInt(jTextFieldEstoque.getText()));
            filmeAtual.setValor_locacao(jTextFieldValorLocacaoFilme.getText());
            filmeAtual.setStatus("s");
           
            if(flag == EDITAR){
               
                filmeAtual.setId_filme((Integer.parseInt(jTextFieldIDFilme.getText())));
                
            }
             
            filmeAtual.salvar();
            
            //LIMPANDO CAMPOS
            
                jDateChooserlancamento.setDateFormatString(null);
                jTextFieldDuracaoFilme.setText("");
                jTextFieldEstoque.setText("");
                jTextFieldTituloFilme.setText("");
                jTextFieldTituloOriginalFilme.setText("");
                jTextFieldValorLocacaoFilme.setText("");
                jTextPaneElencoFilme.setText("");
                jTextPaneSinopseFilme.setText("");
            
            //BLOQUEANDO CAMPOS
            
                jDateChooserlancamento.setEnabled(false);
                jTextFieldDuracaoFilme.setEnabled(false);
                jTextFieldEstoque.setEnabled(false);
                jTextFieldTituloFilme.setEnabled(false);
                jTextFieldTituloOriginalFilme.setEnabled(false);
                jTextFieldValorLocacaoFilme.setEnabled(false);
                jTextPaneElencoFilme.setEnabled(false);
                jTextPaneSinopseFilme.setEnabled(false);
                JcomboboxClassificacaoEtaria.setEnabled(false);
                jComboBoxCategoria.setEnabled(false);
            //BLOQUEANDO BOTAO SALVAR    
                jButtonSalvarFilme.setEnabled(false);
            
            JOptionPane.showMessageDialog(null, "Dados salvos");
            // ATUALIZANDO TABELA
            preencherTabela("select * from filme");
            
        }catch(NumberFormatException ex){
            ex.printStackTrace();
            JOptionPane.showMessageDialog(null, "Verifique os campos numéricos!");
        }catch(ModelException ex){
            ex.printStackTrace();
            JOptionPane.showMessageDialog(null, ex.getMessage());
        }
        
    }//GEN-LAST:event_jButtonSalvarFilmeActionPerformed
    
    
    public void preencherTabela(String Sql){
        ArrayList dados = new ArrayList();
        String [] colunas = new String [] {"Nome Filme", "Categoria", "Classificacao", "Lançamento", "Estoque", "Valor Locação"};
        conexao.conexao();
            conexao.executaSql(Sql);
            try{
               conexao.rs.first();
               do{
                   dados.add(new Object[]{conexao.rs.getString("nome"), conexao.rs.getString("categoria"), conexao.rs.getString("classificacao_etaria"), conexao.rs.getDate("lancamento"), conexao.rs.getString("estoque"), conexao.rs.getString("valor_locacao")});
                   
               }while(conexao.rs.next());
            }catch (SQLException ex){
                JOptionPane.showMessageDialog(rootPane,"Erro ao preencher tabela");
            }
            ModelBeans.BeansTabela modelo = new ModelBeans.BeansTabela(dados, colunas);
            jTableFilmes.setModel(modelo);
            //PRIMEIRO NOME 
            jTableFilmes.getColumnModel().getColumn(0).setPreferredWidth(174);
            jTableFilmes.getColumnModel().getColumn(0).setResizable(false);
            //CATEGORIA
            jTableFilmes.getColumnModel().getColumn(1).setPreferredWidth(115);
            jTableFilmes.getColumnModel().getColumn(1).setResizable(false);
            //CLASSIFICACAO ETARIA
            jTableFilmes.getColumnModel().getColumn(2).setPreferredWidth(115);
            jTableFilmes.getColumnModel().getColumn(2).setResizable(false);
            //LANÇAMENTO
            jTableFilmes.getColumnModel().getColumn(3).setPreferredWidth(130);
            jTableFilmes.getColumnModel().getColumn(3).setResizable(false);
            //ESTOQUE
            jTableFilmes.getColumnModel().getColumn(4).setPreferredWidth(90);
            jTableFilmes.getColumnModel().getColumn(4).setResizable(false);
            //VALOR LOCAÇÃO
            jTableFilmes.getColumnModel().getColumn(5).setPreferredWidth(109);
            jTableFilmes.getColumnModel().getColumn(5).setResizable(false);
            //NAO PODE REORDENAR O CABEÇALHO DA TABELA
            jTableFilmes.getTableHeader().setReorderingAllowed(false);
            //NAO PODE SER REDIMENCIONADA 
            jTableFilmes.setAutoResizeMode(jTableFilmes.AUTO_RESIZE_OFF);
            //SO PODERA SELECIONAR UM DADO NA TABELA DE CADA VEZ 
            jTableFilmes.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        conexao.desconecta();
    }
    
    private void jTextFieldValorLocacaoFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldValorLocacaoFilmeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldValorLocacaoFilmeActionPerformed

    private void jButtonNovoFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonNovoFilmeActionPerformed
        flag=SALVAR;
        //LIMPANDO CAMPOS
        //jDateChooserlancamento.setDate();
        jTextFieldDuracaoFilme.setText("");
        jTextFieldEstoque.setText("");
        jTextFieldTituloFilme.setText("");
        jTextFieldTituloOriginalFilme.setText("");
        jTextFieldValorLocacaoFilme.setText("");
        jTextPaneElencoFilme.setText("");
        jTextPaneSinopseFilme.setText("");
        jButtonSalvarFilme.setText("");
        JcomboboxClassificacaoEtaria.setSelectedIndex(0);
        jComboBoxCategoria.setSelectedIndex(0);
        //LIBERANDO CAMPOS
        jDateChooserlancamento.setEnabled(true);
        jTextFieldDuracaoFilme.setEnabled(true);
        jTextFieldEstoque.setEnabled(true);
        jTextFieldTituloFilme.setEnabled(true);
        jTextFieldTituloOriginalFilme.setEnabled(true);
        jTextFieldValorLocacaoFilme.setEnabled(true);
        jTextPaneElencoFilme.setEnabled(true);
        jTextPaneSinopseFilme.setEnabled(true);
        jButtonSalvarFilme.setEnabled(true);
        JcomboboxClassificacaoEtaria.setEnabled(true);
        jComboBoxCategoria.setEnabled(true);
        // SALVANDO FILME
        jButtonEditaFilme.setEnabled(false);
        
    }//GEN-LAST:event_jButtonNovoFilmeActionPerformed

    private void jTextFieldPesquisaFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldPesquisaFilmeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldPesquisaFilmeActionPerformed

    private void jButtonPesquisarFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonPesquisarFilmeActionPerformed
        mod.setPesquisa(jTextFieldPesquisaFilme.getText());
        
        BeansFilme model = filme.buscaFilme(jTextFieldPesquisaFilme.getText());
        
        jTextFieldIDFilme.setText(String.valueOf(model.getId_filme()));
        jTextFieldDuracaoFilme.setText(model.getNome());
        jTextFieldTituloFilme.setText(model.getNome());
        jTextFieldTituloOriginalFilme.setText(model.getNome_original());
        jTextFieldEstoque.setText(String.valueOf(model.getEstoque()));
        jTextFieldValorLocacaoFilme.setText(model.getValor_locacao());
        jTextPaneElencoFilme.setText(model.getElenco());
        jTextPaneSinopseFilme.setText(model.getSinopse());
        jTextFieldDuracaoFilme.setText(model.getDuracao());
        jComboBoxCategoria.setSelectedItem(model.getCategoria());
        JcomboboxClassificacaoEtaria.setSelectedItem(model.getClassificacao_etaria());
        jDateChooserlancamento.setDate(model.getLancamento());
        
        //LIBERANDO BOTAO EDITAR
        jButtonEditaFilme.setEnabled(true);
        //LIBERANDO BOTAO EXCLUIR
        jButtonExcluirFilme.setEnabled(true);
        //BLOQUEANDO BOTÃO DE CADASTRAR
        jButtonNovoFilme.setEnabled(true);
    }//GEN-LAST:event_jButtonPesquisarFilmeActionPerformed

    private void jButtonEditaFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonEditaFilmeActionPerformed
        flag = EDITAR;
        jDateChooserlancamento.setEnabled(true);
        jTextFieldDuracaoFilme.setEnabled(true);
        jTextFieldEstoque.setEnabled(true);
        jTextFieldTituloFilme.setEnabled(true);
        jTextFieldTituloOriginalFilme.setEnabled(true);
        jTextFieldValorLocacaoFilme.setEnabled(true);
        jTextPaneElencoFilme.setEnabled(true);
        jTextPaneSinopseFilme.setEnabled(true);
        jButtonSalvarFilme.setEnabled(true);
        JcomboboxClassificacaoEtaria.setEnabled(true);
        jComboBoxCategoria.setEnabled(true);
        
        jButtonExcluirFilme.setEnabled(false);
        jButtonNovoFilme.setEnabled(true);
    }//GEN-LAST:event_jButtonEditaFilmeActionPerformed

    private void jButtonExcluirFilmeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonExcluirFilmeActionPerformed
        int resposta = 0;
        resposta = JOptionPane.showConfirmDialog(rootPane, "Deseja realmente excluir o filme "+jTextFieldTituloFilme.getText() +"?");
        if (resposta == JOptionPane.YES_OPTION){
            mod.setId_filme(Integer.parseInt(jTextFieldIDFilme.getText()));
            
             try{
                filme.excluir(mod);
            }catch(RuntimeException ex){
                JOptionPane.showMessageDialog(null, ex.getMessage());
            }
            
            jButtonSalvarFilme.setEnabled(false);      
            jButtonExcluirFilme.setEnabled(false);
            jButtonEditaFilme.setEnabled(false);
            
        }
        preencherTabela("select * from filme order by nome;");
    }//GEN-LAST:event_jButtonExcluirFilmeActionPerformed

    private void jTableFilmesMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTableFilmesMouseClicked
        
        BeansFilme model = new BeansFilme();
        
        String nome =""+jTableFilmes.getValueAt(jTableFilmes.getSelectedRow(),0);
        //JOptionPane.showMessageDialog(rootPane, nome);
        conexao.conexao();
        conexao.executaSql("SELECT * FROM filme WHERE nome LIKE '%"+nome+"%' order by nome");
        
       try {
            if(conexao.rs.first()){
                jTextFieldIDFilme.setText(String.valueOf(conexao.rs.getInt("id_filme")));
                jTextFieldTituloFilme.setText(conexao.rs.getString("nome"));
                jTextFieldTituloOriginalFilme.setText(conexao.rs.getString("nome_original"));
                jTextFieldEstoque.setText(String.valueOf(conexao.rs.getInt("estoque")));
                jTextFieldValorLocacaoFilme.setText(conexao.rs.getString("valor_locacao"));
                jTextPaneElencoFilme.setText(conexao.rs.getString("elenco"));
                jTextPaneSinopseFilme.setText(conexao.rs.getString("sinopse"));
                jComboBoxCategoria.setSelectedItem(conexao.rs.getString("categoria"));
                JcomboboxClassificacaoEtaria.setSelectedItem(conexao.rs.getString("classificacao_etaria"));
                jDateChooserlancamento.setDate(conexao.rs.getDate("lancamento"));
                jTextFieldDuracaoFilme.setText(conexao.rs.getString("duracao"));
                jTextFieldEstoque.setText(conexao.rs.getString("estoque"));
            }
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Erro ao selecionar filme "+ex);
            ex.printStackTrace();
        }    
        
        conexao.desconecta();
        //LIBERANDO BOTAO EDITAR
        jButtonEditaFilme.setEnabled(true);
        //LIBERANDO BOTAO EXCLUIR
        jButtonExcluirFilme.setEnabled(true);
        //BLOQUEANDO BOTÃO DE CADASTRAR
        jButtonNovoFilme.setEnabled(false);
    }//GEN-LAST:event_jTableFilmesMouseClicked

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(TelaCadFilme.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(TelaCadFilme.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(TelaCadFilme.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(TelaCadFilme.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new TelaCadFilme().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox<String> JcomboboxClassificacaoEtaria;
    private javax.swing.JButton jButtonEditaFilme;
    private javax.swing.JButton jButtonExcluirFilme;
    private javax.swing.JButton jButtonNovoFilme;
    private javax.swing.JButton jButtonPesquisarFilme;
    private javax.swing.JButton jButtonSalvarFilme;
    private javax.swing.JButton jButtonVoltar;
    private javax.swing.JComboBox<String> jComboBoxCategoria;
    private com.toedter.calendar.JDateChooser jDateChooserlancamento;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelPlanoFundo;
    private javax.swing.JPanel jPanelFundo;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTable jTableFilmes;
    private javax.swing.JTextField jTextFieldDuracaoFilme;
    private javax.swing.JTextField jTextFieldEstoque;
    private javax.swing.JTextField jTextFieldIDFilme;
    private javax.swing.JTextField jTextFieldPesquisaFilme;
    private javax.swing.JTextField jTextFieldTituloFilme;
    private javax.swing.JTextField jTextFieldTituloOriginalFilme;
    private javax.swing.JTextField jTextFieldValorLocacaoFilme;
    private javax.swing.JTextPane jTextPaneElencoFilme;
    private javax.swing.JTextPane jTextPaneSinopseFilme;
    // End of variables declaration//GEN-END:variables
}
